<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // Задание 1: ""Управление персоналом компании""
      console.log("--------------------Task1------------------------");
      class Employee {
        constructor(name) {
          this.name = name;
        }
        displayInfo() {
          console.log(this.name);
        }
      }
      class Manager extends Employee {
        constructor(name, department) {
          super(name);
          this.department = department;
        }
        displayInfo() {
          super.displayInfo();
          console.log(this.department);
        }
      }

      // Пример использования классов
      const employee = new Employee("John Smith");
      employee.displayInfo();
      // // Вывод:
      // // Name: John Smith

      const manager = new Manager("Jane Doe", "Sales");
      manager.displayInfo();
      // Вывод:
      // Name: Jane Doe
      // Department: Sales

      // "Управление списком заказов"

      console.log("--------------------Task2------------------------");

      class Order {
        constructor(orderNumber) {
          this.orderNumber = parseInt(orderNumber);
          this.products = [];
        }

        addProduct(product) {
          this.products.push(product);
        }

        getTotalPrice() {
          return this.products.reduce((sum, product) => product.price + sum, 0);
        }
      }

      // Пример использования класса
      class Product1 {
        constructor(name, price) {
          this.name = name;
          this.price = price;
        }
      }

      const order = new Order(12345);
      const product1 = new Product1("Phone", 500);
      order.addProduct(product1);
      const product2 = new Product1("Headphones", 100);
      order.addProduct(product2);
      console.log(order.getTotalPrice()); // Вывод: 600

      // Создать класс "Товар" с приватными полями "название", "цена" и "количество". Класс должен иметь публичные методы "изменить цену", "изменить количество" и "получить стоимость", которые будут изменять соответствующие поля объекта и возвращать стоимость товара соответственно. Также класс должен иметь статическое поле "максимальное количество", которое будет задавать максимально допустимое количество товара для всех создаваемых объектов.

      console.log("--------------------Task3------------------------");

      class Product {
        static maxQuantity = 1000;
        constructor(name, price, quantity) {
          this.name = name;
          this.price = price;
          if (quantity <= Product.maxQuantity) {
            this.quantity = quantity;
          } else throw new Error("Quantity is too high");
        }

        setName(newName) {
          this.name = newName;
          return this.name;
        }
        setPrice(newPrice) {
          this.price = newPrice;
          return this.price;
        }
        setQuantity(newQuantity) {
          if (newQuantity <= Product.maxQuantity) {
            this.quantity = newQuantity;
            return this.quantity;
          } else {
            console.log("Quantity is too high");
          }
        }
        getCost() {
          return this.price * this.quantity;
        }
      }
      // Пример работы кода:

      const product3 = new Product("Тетрадь", 50, 200);
      console.log(product3);
      console.log(product3.setName("book")); // "book"
      console.log(product3.setPrice(60)); // 60
      console.log(product3.setQuantity(300)); // 300
      console.log(product3.getCost()); // 18000
      // const product4 = new Product("Ручка", 10, 5000); // выбросится ошибка "Quantity is too high"

      console.log("--------------------Task4------------------------");

      // Создать класс "Пользователь" с приватными полями "имя", "возраст" и "электронная почта". Класс должен иметь публичные методы "изменить имя", "изменить возраст" и "изменить электронную почту", которые будут изменять соответствующие поля объекта. Также класс должен иметь статическое поле "максимальный возраст", которое будет задавать максимально допустимый возраст для всех создаваемых объектов.

      class User {
        static maxAge = 120;
        constructor(name, age, email) {
          this._name = name;
          if (age <= User.maxAge) {
            this._age = age;
          } else throw new Error("Age is too high");
          this._email = email;
        }
        getName() {
          return this._name;
        }
        getAge() {
          return this._age;
        }
        getEmail() {
          return this._email;
        }
        setName(newName) {
          this._name = newName;
        }
        setAge(newAge) {
          if (newAge <= User.maxAge) {
            this._age = newAge;
          } else throw new Error("Age is too high");
        }
        setEmail(newEmail) {
          this._email = newEmail;
        }
        static getMaxAge() {
          return User.maxAge;
        }
      }

      const user1 = new User("John", 30);
      console.log(user1.getName()); // "John"
      user1.setName("Mike");
      console.log(user1.getName()); // "Mike"
      console.log(User.getMaxAge()); // 120
      const user2 = new User("Jane", 150); // Error: Age is too high
    </script>
  </body>
</html>
